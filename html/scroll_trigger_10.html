<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- <link rel="icon" href="../../resource/images/common/favicon-16x16.ico" type="image/x-icon"> -->
        <title>gsap practice</title>

        <link rel="stylesheet" href="../resource/lib/jQuery/jquery-ui/jquery-ui.css">
        <link rel="stylesheet" href="../resource/lib/jQuery/jquery-ui/jquery-ui.theme.css">

        <script src="../resource/lib/jQuery/jquery-3.6.0.js"></script>
        <script src="../resource/lib/jQuery/jquery-ui/jquery-ui.js"></script>

        <style>
            @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css');
            @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

            :root{--primary:#be201f;--black:#161616;--k-font:'Pretendard';--e-font:'Poppins'}
            h1, h2, h3, h4, h5, h6, input, button, textarea, select {font-family: var(--e-font) var(--k-font)}

            #inc03{position:relative}
            #inc03 .pl{white-space:pre-line;word-break:keep-all}
            #inc03 .inc03_wrap .gsap_slide_wrap{opacity:0;filter:blur(10px);transition:opacity, filter .5s;position:relative;display:flex;margin-top:220px;width:100%;height:100vh}
            #inc03 .inc03_wrap .gsap_slide_wrap > div{width:100%}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;text-align:center;color:var(--primary)}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt .en{font-size:13px;font-weight:700}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt h3{margin-top:10px;font-size:20px;font-weight:500;line-height:1.3;font-family:var(--e-font)}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt p{margin-top:10px;font-size:14px;font-weight:400}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt a{display:flex;justify-content:center;align-items:center;margin-top:20px;width:53px;height:53px;border:2px solid var(--primary);border-radius:50%;background-color:var(--primary);transition:all .3s}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt a svg{stroke-width:3px;width:18px;color:#fff;transition:all .3s}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt a:hover{background-color:transparent}
            #inc03 .inc03_wrap .gsap_slide_wrap > div .txt a:hover svg{color:var(--primary)}
            #inc03 .inc03_wrap .gsap_slide_wrap .img_cont{position:absolute;top:0px;right:0px;width:50%;height:100%}
            #inc03 .inc03_wrap .gsap_slide_wrap .left_cont .img_cont{opacity:1;z-index:3;background:url("https://co1148.shiningcorp.com/sh_img/include/inc03/img/img01.jpg") no-repeat center / cover}
            #inc03 .inc03_wrap .gsap_slide_wrap .right_cont .txt{opacity:0}
            #inc03 .inc03_wrap .gsap_slide_wrap .right_cont .img_cont{opacity:0;z-index:2;background:url("https://co1148.shiningcorp.com/sh_img/include/inc03/img/img02.jpg") no-repeat center / cover}
        </style>
    </head>

    <body>
        <article id="inc03">
            <div class="inc03_wrap">
                <div class="gsap_slide_wrap">
                    <div class="left_cont">
                        <div class="img_cont"></div>
                        <div class="txt">
                            <div class="en">BUSINESS SUCCESS</div>
                            <h3 class="pl">INTEGRATED SOLUTIONS
                            BUSINESS MODEL</h3>
                            <p class="pl">경쟁력을 강화할 수 있도록 설계된시스템을 기반으로 전문적인 서비스를 제공합니다.</p>
                            <a href="/sh_page/page10.php">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                            </a>
                        </div>
                    </div>
                    <div class="right_cont">
                        <div class="img_cont"></div>
                        <div class="txt">
                            <div class="en">DATA ANALYTICS</div>
                            <h3 class="pl">DATA-DRIVEN
                                PERSONALIZATION</h3>
                            <p class="pl">고객의 요구에 정확히 맞는 솔루션을 제공하여 높은 만족도를 이끌어내며, 지속 가능한 관계를 구축합니다.</p>
                            <a href="/sh_page/page11.php">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </article>

        <!-- gsap -->
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>

        <script>
            gsap.registerPlugin(ScrollTrigger);

            gsap.to("#inc03 .gsap_slide_wrap", {
                scrollTrigger:{
                    start:"-15% top",
                    trigger:"#inc03 .inc03_wrap",
                    onEnter:() => {
                        gsap.to("#inc03 .gsap_slide_wrap", {opacity:"1",filter:"blur(0)", duration:0.3})
                    },
                    onLeaveBack:() => {
                        gsap.to("#inc03 .gsap_slide_wrap", {opacity:"0",filter:"blur(10px)", duration:0.3})
                    }
                },
            })

            // timeline:똑같은 위치에서 이미지가 변경되는 오류
            // scrub:애니메이션 동기화 때문에 toggleAction, onEnter, onLeaveBack 사용불가로 인한 오류

            // onupdate => progress, direction 설정으로 해결
            const inc03 = gsap.timeline({
                scrollTrigger:{
                    start:"top top",
                    trigger:"#inc03 .gsap_slide_wrap",
                    end:"bottom top",
                    pin:true,
                    onUpdate: (self) => {
                        const progress = self.progress;
                        const direction = self.direction;

                        gsap.to("#inc03 .left_cont .txt", {
                            opacity: 1 - progress, 
                            duration: 0.1 
                        });
                        gsap.to("#inc03 .left_cont .img_cont", {
                            right: `${50 * progress}%`,
                            duration: 0.1
                        });
                        gsap.to("#inc03 .right_cont .img_cont", {
                            right: `${50 * progress}%`,
                            duration: 0.1
                        });

                        gsap.to("#inc03 .right_cont .txt", {
                            opacity: progress,
                            duration: 0.1
                        });


                        if (direction === 1) {
                            if (progress > 0.85) {
                                gsap.to("#inc03 .left_cont .img_cont", {opacity: 1 - progress,  duration: 0.5});
                                gsap.to("#inc03 .right_cont .img_cont", {opacity: progress, duration: 0.5});
                            };
                        } else if (direction === -1) {
                            if (progress < 0.15) {
                                gsap.to("#inc03 .left_cont .img_cont", { opacity: "1", duration: 0.5});
                                gsap.to("#inc03 .right_cont .img_cont", { opacity: "0", duration: 0.5});
                            };
                        };
                    }
                }
            });
        </script>
    </body>
</html>